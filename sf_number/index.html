<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SFっぽいアイコンつくるやつ</title>
  <link rel="stylesheet" href="./style.css">
</head>
<body>
  <header>
    <h1>Touch Number SVG Generator（57×57 / 背景透過）</h1>
    <p>①数字、②グラデーション2色、③十字（色/太さ）、④〜円（色/大きさ/位置）＋背景一括移動＋リング（幅/透明度）。変更→即プレビュー。コード表示/DL。</p>
  </header>

  <main>
  <!-- 左：設定 -->
  <section class="card" id="leftSettings">
    <div class="title">設定</div>
    <div class="content">
      <div class="grid zebra" id="settingsGrid">
<div class="field" data-group="preview">
  <label>プレビュー表示</label>
  <div class="row">
    <button type="button" id="btnFit">Fit（全体表示）</button>
    <button type="button" id="btnActual">100%</button>
  </div>
  <div class="small">Fitは見切れ防止。100%は実寸表示。</div>
</div>

        <div class="field" data-group="num">
          <label>表示文字</label>
          <input id="numText" type="text" value="0" maxlength="3" />
        </div>

        <div class="field" data-group="grad">
          <label>グラデーション（上→下）</label>
          <div class="row">
            <div class="field" data-group="grad">
              <label class="small">色1（上）</label>
              <input id="gradTop" type="color" value="#E9FFFF" />
            </div>
            <div class="field" data-group="grad">
              <label class="small">色2（下）</label>
              <input id="gradBottom" type="color" value="#1BCBFF" />
            </div>
          </div>
        </div>

        <div class="field" data-group="num">
          <label>文字サイズ（最大化）</label>
          <input id="numSize" type="range" min="420" max="620" step="1" value="560" />
          <div class="small"><span id="numSizeVal">560</span></div>
        </div>

        <div class="field" data-group="num">
          <label>文字グロー（強さ）</label>
          <input id="numGlow" type="range" min="0" max="8" step="0.1" value="3.0" />
          <div class="small"><span id="numGlowVal">3.0</span></div>
        </div>

        <div class="field" data-group="cross">
          <label>十字：色</label>
          <input id="crossColor" type="color" value="#B8F5FF" />
        </div>

        <div class="field" data-group="cross">
          <label>十字：線の太さ</label>
          <input id="crossWidth" type="range" min="1" max="6" step="0.1" value="2.0" />
          <div class="small"><span id="crossWidthVal">2.0</span></div>
        </div>

        <div class="field" data-group="bgmove">
          <label>背景素材（十字＋円）：一括 位置X</label>
          <input id="bgX" type="range" min="-160" max="160" step="1" value="0" />
          <div class="small"><span id="bgXVal">0</span></div>
        </div>

        <div class="field" data-group="bgmove">
          <label>背景素材（十字＋円）：一括 位置Y</label>
          <input id="bgY" type="range" min="-160" max="160" step="1" value="0" />
          <div class="small"><span id="bgYVal">0</span></div>
        </div>

        <div class="field" data-group="c1">
          <label>④円1（内側）：色</label>
          <input id="c1Color" type="color" value="#77ECFF" />
        </div>
        <div class="field" data-group="c1">
          <label>④円1：半径</label>
          <input id="c1R" type="range" min="10" max="260" step="1" value="92" />
          <div class="small"><span id="c1RVal">92</span></div>
        </div>
        <div class="field" data-group="c1">
          <label>④円1：位置X</label>
          <input id="c1X" type="range" min="-120" max="120" step="1" value="0" />
          <div class="small"><span id="c1XVal">0</span></div>
        </div>
        <div class="field" data-group="c1">
          <label>④円1：位置Y</label>
          <input id="c1Y" type="range" min="-120" max="120" step="1" value="0" />
          <div class="small"><span id="c1YVal">0</span></div>
        </div>

        <div class="field" data-group="c2">
          <label>⑤円2：色</label>
          <input id="c2Color" type="color" value="#77ECFF" />
        </div>
        <div class="field" data-group="c2">
          <label>⑤円2：半径</label>
          <input id="c2R" type="range" min="10" max="300" step="1" value="126" />
          <div class="small"><span id="c2RVal">126</span></div>
        </div>
        <div class="field" data-group="c2">
          <label>⑤円2：位置X</label>
          <input id="c2X" type="range" min="-120" max="120" step="1" value="0" />
          <div class="small"><span id="c2XVal">0</span></div>
        </div>
        <div class="field" data-group="c2">
          <label>⑤円2：位置Y</label>
          <input id="c2Y" type="range" min="-120" max="120" step="1" value="0" />
          <div class="small"><span id="c2YVal">0</span></div>
        </div>

        <div class="field" data-group="c3">
          <label>⑥円3（外側）：色</label>
          <input id="c3Color" type="color" value="#77ECFF" />
        </div>
        <div class="field" data-group="c3">
          <label>⑥円3：半径</label>
          <input id="c3R" type="range" min="10" max="360" step="1" value="160" />
          <div class="small"><span id="c3RVal">160</span></div>
        </div>
        <div class="field" data-group="c3">
          <label>⑥円3：位置X</label>
          <input id="c3X" type="range" min="-120" max="120" step="1" value="0" />
          <div class="small"><span id="c3XVal">0</span></div>
        </div>
        <div class="field" data-group="c3">
          <label>⑥円3：位置Y</label>
          <input id="c3Y" type="range" min="-120" max="120" step="1" value="0" />
          <div class="small"><span id="c3YVal">0</span></div>
        </div>

        <div class="field" data-group="c3">
          <label>⑥円3：線の太さ</label>
          <input id="c3Stroke" type="range" min="1" max="8" step="0.1" value="2" />
          <div class="small"><span id="c3StrokeVal">2</span></div>
        </div>
        <div class="field" data-group="c3">
          <label>⑥円3：線の透明度</label>
          <input id="c3Opacity" type="range" min="0" max="1" step="0.01" value="0.12" />
          <div class="small"><span id="c3OpacityVal">0.12</span></div>
        </div>

        <div class="field" data-group="c3">
          <label>外側リング：幅（0で非表示）</label>
          <input id="c3RingWidth" type="range" min="0" max="60" step="1" value="22" />
          <div class="small"><span id="c3RingWidthVal">22</span></div>
        </div>
        <div class="field" data-group="c3">
          <label>外側リング：透明度</label>
          <input id="c3RingOpacity" type="range" min="0" max="1" step="0.01" value="0.85" />
          <div class="small"><span id="c3RingOpacityVal">0.85</span></div>
        </div>

        <div class="field" data-group="bgmove">
          <label>背面グロー（十字・円）</label>
          <input id="bgGlow" type="range" min="0" max="6" step="0.1" value="1.4" />
          <div class="small"><span id="bgGlowVal">1.4</span></div>
        </div>

        <div class="field" data-group="bgmove">
          <label>微細粒子：量</label>
          <input id="sparkCount" type="range" min="0" max="40" step="1" value="12" />
          <div class="small"><span id="sparkCountVal">12</span></div>
        </div>
<div class="field" data-group="preview">
  <label>ガイド表示（プレビュー）</label>
  <input id="showGuide" type="checkbox" checked />
  <div class="small">576枠・安全枠を重ねて表示します。</div>
</div>

<div class="field" data-group="preview">
  <label>出力のクリップ</label>
  <select id="clipMode">
    <option value="clip">576枠でクリップ（枠外は見えない）</option>
    <option value="noclip">クリップしない（枠外要素も保持）</option>
  </select>
</div>

        <!-- プレビュー表示サイズ（設定側に置く：重複禁止） -->
        <div class="field" data-group="preview">
          <label>プレビュー表示サイズ（px）</label>
          <input id="previewSize" type="range" min="200" max="800" step="10" value="576" />
          <div class="small"><span id="previewSizeVal">576</span> px</div>
        </div>

        <div class="field" data-group="preview">
          <label>プレビュー倍率（%）</label>
          <input id="previewScale" type="range" min="25" max="200" step="5" value="100" />
          <div class="small"><span id="previewScaleVal">100</span> %</div>
        </div>

      </div>

      <div class="btns">
        <button class="primary" id="btnShow">⑦ SVGコード表示</button>
        <button id="btnCopy">コードをコピー</button>
        <button id="btnDl">⑧ SVGをダウンロード</button>
        <button id="btnReset">初期値に戻す</button>
      </div>
    </div>
  </section>

  <!-- 右：プレビュー＋コード（ここには field を置かない） -->
  <section class="previewWrap" id="rightPane">
    <section class="card" id="previewCard">
      <div class="title">プレビュー</div>
<div class="previewBox" id="previewBox">
  <div id="preview"></div>

  <!-- プレビュー専用ガイド（出力SVGには含めない） -->
  <svg id="guideOverlay" viewBox="0 0 576 576" aria-hidden="true">
    <!-- 576枠 -->
    <rect x="0" y="0" width="576" height="576"
          fill="none" stroke="rgba(255,80,80,0.95)" stroke-width="2" />
    <!-- 安全枠（520） -->
    <rect x="28" y="28" width="520" height="520"
          fill="none" stroke="rgba(255,220,120,0.85)" stroke-width="1"
          stroke-dasharray="6 6" />
    <!-- はみ出し目安（640） -->
    <rect x="-32" y="-32" width="640" height="640"
          fill="none" stroke="rgba(120,180,255,0.75)" stroke-width="1"
          stroke-dasharray="4 8" />
  </svg>
</div>

        <div class="small">背景は透過です（市松はプレビュー用）。</div>
      </div>
    </section>

    <div class="resizer" id="resizer" title="ドラッグでプレビュー高さ変更"></div>

    <section class="card" id="codeCard">
      <div class="title">SVGコード</div>
      <div class="content">
        <textarea id="code" spellcheck="false" readonly></textarea>
      </div>
    </section>
  </section>
</main>


 <script src="./svg.js" defer></script>
<script src="./app.js" defer></script>
</body>
</html>
